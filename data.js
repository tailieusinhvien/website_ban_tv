
// Khai báo dữ liệu 

let sp1 = { masp: 1, hang: "SONY", hinhanh: 'image/TIvi_Sony  50inch 50W660G .jpg', tensp: "Smart Tivi Sony 50 inch KDL-50W660G VN3", soluong: 1, dongia: "9.490.000VNĐ", mota: 'Kích thước 50 inch thích hợp cho phòng khách, phòng họp,... Độ phân giải Full HD hiển thị hình ảnh rõ nét, chi tiết Công nghệ X-Reality Pro tăng cường độ sắc nét của hình ảnh Công nghệ ClearAudio+ tinh chỉnh âm thanh tivi sống động  Nút Youtube trên điều khiển giúp truy cập nhanh chóng hơn Xem nội dung từ smartphone trên tivi nhờ Smart Plug & Play Công nghệ X-Protection PRO chống bụi, chống ẩm, chống sét', class: "sony" }
let sp2 = { masp: 2, hang: "SONY", hinhanh: 'image/TIvi_Sony 4K 55inch KD-55X8050H.jpg', tensp: "Sony Android Tivi 4K 55 Inch KD-55X8050H-VN3", soluong: 1, dongia: "15.490.000VNĐ", mota: 'Màn hình kích thước lớn 55" mở rộng trải nghiệm hình ảnhĐộ phân giải 4K hiển thị hình ảnh sắc nét đến từng chi tiết Bộ xử lý 4K HDR X1 giúp nâng cao chất lượng hình ảnh Công nghệ Triluminos cho hình ảnh chân thực và chính xác Công nghệ Motionflow giúp giảm mờ trong cảnh chuyển động Thưởng thức âm thanh sống động với loa X-Balanced Speaker Thiết kế viền mỏng tinh tế tạo nét đẹp sang trọng hiện đại', class: "sony" }
let sp3 = { masp: 3, hang: "SONY", hinhanh: 'image/TIvi_Sony  75inch KD-75X8500C .jpg', tensp: "Tivi Sony 75 inch KD-75X8500C", soluong: 1, dongia: "79,050,000VNĐ", mota: 'Tivi 4K, 3D, 75inch Độ phân giải: 4K UHD Tần số quét: 800 Hz Kết nối: USB, HDMI, Wifi, LAN' }
let sp4 = { masp: 4, hang: "SAMSUNG", hinhanh: 'image/smart-tivi-32-inch SamSung.webp', tensp: "Smart Tivi Samsung 32 inch UA32T4300", soluong: 1, dongia: "7.400.000VNĐ", mota: 'Smart Tivi Samsung 32 inch 32T4300 sử dụng công nghệ HDR Cải thiện độ sáng vượt trội với công nghệ HDR tiên tiến. Cung cấp dải màu sắc lớn và hiển thị chi tiết, sắc nét hình ảnh ngay cả trong khung hình tối sâu thẳm.', class: "sony" }
let sp5 = { masp: 5, hang: "SAMSUNG", hinhanh: 'image/Smart tivi SamSung 43 inch UA4356500AKXXV.jpg', tensp: "Smart Tivi Samsung Full HD 43 inch UA43T6500AKXXV", soluong: 1, dongia: "10.390.000VNĐ", mota: 'Cải thiện độ sáng vượt trội với công nghệ HDR10+ tiên tiến Màu sắc hiển thị sống động với công nghệ PurColor Thiết kế mỏng mang đến vẻ đẹp hiện đại và thanh lịch Giao diện Smart Hub cho trải nghiệm sử dụng thân thiện Contrast Enhancer cho hình ảnh sâu và rõ nét hơn Hyper Real Engine cho màu sắc chân thật, chiều sâu điểm ảnh', class: "samsung" }
let sp6 = { masp: 6, hang: "SAMSUNG", hinhanh: 'image/smart-tivi-qled_65inch-SamSung.webp', tensp: "Smart Tivi QLED 4K 65 inch Samsung QA65Q65A", soluong: 1, dongia: "32.900.000VNĐ", mota: 'Kích thước 50 inch thích hợp cho phòng khách, phòng họp,... Độ phân giải Full HD hiển thị hình ảnh rõ nét, chi tiết Công nghệ X-Reality Pro tăng cường độ sắc nét của hình ảnh Công nghệ ClearAudio+ tinh chỉnh âm thanh tivi sống động Nút Youtube trên điều khiển giúp truy cập nhanh chóng hơn Xem nội dung từ smartphone trên tivi nhờ Smart Plug & Play Công nghệ X-Protection PRO chống bụi, chống ẩm, chống sét', class: "samsung" }
let sp7 = { masp: 7, hang: "LG", hinhanh: 'image/tivi-LG-43lh605t-org-1.jpg', tensp: "Smart Tivi LG 43 inch 43LH605T", soluong: 1, dongia: "8.100.000VNĐ", mota: 'Smart Tivi, 43inch Độ phân giải: FHD Tần số quét: 100Hz Kết nối: USB, HDMI, Wifi, LAN' }
let sp8 = { masp: 8, hang: "LG", hinhanh: 'image/tivi-LG-50up7500ptc_1630732661.jpg', tensp: "LG UP7500 50inch 4K Smart UHD TV", soluong: 1, dongia: "17.900.000VNĐ", mota: 'Thiết kế tối giản, kích thước 50 inch tô điểm cho không gian nội thất tại nhà Đồ họa HDR tinh chỉnh, độ trễ thấp giúp chơi game mượt mà, hình ảnh sắc nét Bộ xử lý AI a5 4K, loại bỏ nhiễu và tạo ra màu sắc, độ tương phản rực rỡ Bluetooth Surround Ready mang đến trải nghiệm âm thanh vòm chân thật Công nghệ FILMMAKER MODE™, tận hưởng rạp chiếu phim ngay tại gia Chất lượng hình ảnh trung thực và màu sắc sống động với độ phân giải 4k', class: "samsung" }
let sp9 = { masp: 9, hang: "LG", hinhanh: 'image/10042291-smart-tivi-LG-4k-65-inch-65um7400pta-1_bgvu-27.jpg', tensp: "Smart Tivi LG 4K 65 inch 65UM7400PTA", soluong: 1, dongia: "27.000.000VNĐ", mota: 'Hệ điều hành WebOS thông minh với kho ứng dụng đa dạng và phong phú Độ phân giải 4K kết hợp tấm nền IPS mang đến hình ảnh sắc nét Công nghệ 4K Active HDR mang đến những hình ảnh với màu sắc sinh động Điều khiển tivi dễ dàng qua giọng nói nhờ trí thông minh mới phát triển bởi AI Công nghệ âm thanh DTS Virtual:X có âm thanh đa chiều hoàn hảo Đề xuất nội dung xem dựa trên thói quen của người dùng Kết nối wifi, thoải mái xem những chương trình yêu thích Tivi LED LG thiết kế tinh tế, sang trọng nâng tầm không gian nội thất', class: "lg" }
let dssp = [sp1, sp2, sp3, sp4, sp5, sp6, sp7, sp8, sp9]

let spm1 = { masp: 1, loai: "TIVI SONY MASTER", hinhanh: "image/tivi-sony-master.jpg", ngaythang: "12/05/2022", tensp: "SMART TIVI 85 INCH Z9J SONY", mota: "Điều khiển đèn nền động - Dynamic Backlight Control, hay điều khiển chiếu sáng ở cấp điểm ảnh, giúp cải thiện hiệu suất sử dụng điện năng bằng cách điều chỉnh độ sáng màn hình khi nội dung hình ảnh thay đổi. Chế độ tiết kiệm điện - Power Saving Mode giúp tiết kiệm điện năng bằng cách điều chỉnh độ sáng màn hình. Chế độ tắt màn hình - Display Off Mode giúp tiết kiệm điện năng bằng cách tắt hiển thị hình ảnh mà không cần đặt TV vào chế độ chờ hoàn toàn, vì thế khách hàng vẫn có thể thưởng thức âm thanh ở chế độ này", dongia: "Giá: 190.000.000vnđ", class: "lg" }
let spm2 = { masp: 2, loai: "TIVI SAMSUNG NEO QLED", hinhanh: "image/tivi-samsung-neoqlet.webp", ngaythang: "15/05/2022", tensp: "Smart Tivi Neo QLED 8K 85 inch Samsung QA85QN900A", mota: "mang thiết kế tinh tế cùng với cạnh viền siêu mỏng tạo nên một tuyệt tác TV giúp nâng tầm trải nghiệm xem của bạn thêm phần hoàn hảo và chân thực. Cạnh viền gần như vô hình giúp bạn hoàn toàn tập trung trải nghiệm nội dung ưa thích mà không bị xao nhãng.", dongia: "Giá: 198.900.000vnđ" }
let spm3 = { masp: 3, loai: "TIVI LG OLED", hinhanh: "image/tivi-LG-oled.webp", ngaythang: "20/05/2022", tensp: "Smart Tivi OLED LG 4K 77 inch 77C9PTA", mota: "TV Smart 4K 77 inch 77C9PTA, có độ phân giải cao UHD 4k, cho ra những thước phim sống động như thật, cho phép tivi hiển thị độ nét gấp 4 lần tivi Full HD thông thường, mang đến hình ảnh sắc nét mượt mà với từng chi tiết, chuyển động được sống động như thật. Smart Tivi LG 4K 77C9PTA không dùng màn hình LED như bình thường, mà dùng màn hình OLED. Đây là loại màn hình không cần sử dụng đèn chiếu sáng mà các điểm hữu cơ có khả năng tự phát sáng. Vì vậy công nghệ màn hình OLED mang lại màu sắc chính xác, rực rỡ. Nổi bật nhất là màu đen sâu, độ tương phản cao cho tivi hiển thị một cách chân thực hơn. Nhờ vậy mà màn hình OLED luôn cải thiện màu sắc đẹp lung linh, đảm bảo bạn sẽ không muốn bỏ lỡ khoảnh khắc nào, hay từng chuyển động nào.", dongia: "Giá: 143.900.000vnđ", class: "lg" }
let dsspMoi = [spm1, spm2, spm3]


let tk1={id: 0, name: "Nguyễn Văn A", email: "a@gmail.com", birthday: "12-12-2000", username: "nguyenvana", password: "123456", address: "908/13 Quang Trung", telephone: "0987654321"}
let dsstk=[tk1]

// Array --> Json
// Lưu dữ liệu vào localStorage
localStorage.setItem("dssp", JSON.stringify(dssp))
localStorage.setItem("dsspm", JSON.stringify(dsspMoi))
localStorage.setItem("dsstk", JSON.stringify(dsstk))
localStorage.setItem("masp", 1)
localStorage.setItem("maspm", 1)
localStorage.setItem("biendem", 1)

// Lấy dữ liệu từ loCalStorage
let ds = JSON.parse(localStorage.getItem("dssp"))
let dsspm = JSON.parse(localStorage.getItem("dsspm"))

let dstk = JSON.parse(localStorage.getItem("dsstk"))

let dem=localStorage.getItem("biendem")
let demso=0;
let dsachtaikhoan=[]
let tam=0;

let makhachang = 0







// Hàm hiển thị giao diện web

function hienthigiaodien() {
    let header = " <div class='container'> " +
        " <div class='row'>" +
        " <div class='col-sm-4'> " +
        " <div class='mangxh float-sm-left text-xs-center text-sm-left'> " +
        " <a href='https://www.facebook.com'>" + "<i class='fa fa-facebook'>" + "</i>" + "</a> " +
        " </div> " +
        "<div class='lienhe'> " +
        "Call: 0343299813 " +
        " </div> " +
        " </div> " +
        "  <div class='col-sm-4'> " +
        " <div class='timkiem' id='timkiem'> " +
        "<input type='search' id='tkiem' placeholder='Tìm kiếm' style='width: 400px; height: 30px;' > " +
        " </div>" +
        "</div> " +

        "<div class='col-sm-4'> " +
        " <div class='lienhe openingtop float-sm-right text-sm-left text-xs-center'> " +
        " Thời gian mở cửa: 7:00 - 22:00" +
        "</div> " +
        "</div> " +

        "</div> " +

        "</div>"




    let menu = "<nav class='navbar navbar-light bg-faded fontroboto'>" +
        "<div class='container'>" +
        " <button class='navbar-toggler hidden-sm-up' type='button' data-toggle='collapse' data-target='#mtren'>" +

        "</button>" +
        "<div class='collapse navbar-toggleable-xs' id='mtren'>" +
        " <a class='navbar-brand text-xs-center text-sm-left' href='home.html'> <a href='home.html' style='text-decoration: none'>  <div style='display: flex'>" +
        "<img src='image/logo.png' alt='' style=' width: 150px; height: 100px;'>"+
        "<h1 style='color: rgb(255, 110, 80); padding-top: 40px'>" + "T&Dshop.com" + "</h1> </div> </a>" +
        " </a>" +

        " <ul class='nav navbar-nav float-sm-right'>" +
        "   <li class='nav-item active'>" +
        "   <a class='nav-link' href='home.html'>" + "Trang chủ" + "</a>" +
        " </li>" +
        " <li class='nav-item'>" +
        "  <a class='nav-link' href='danhsach.html'>" + "Tất cả" + "</a>" +
        "</li>" +
        " <li class='nav-item'>" +
        "  <a class='nav-link' href='Sony.html'>" + "Sony" + "</a>" +
        "</li>" +
        "<li class='nav-item'>" +
        "<a class='nav-link' href='SamSung.html'>" + "Samsung" + "</a>" +
        " </li>" +
        " <li class='nav-item'>" +
        " <a class='nav-link' href='LG.html'>" + "LG" + "</a>" +
        "</li>" +
        "<li class='nav-item'>" +
        "<a class='nav-link' href='news.html'>" + "Tin tức" + "</a>" +
        "</li>" +
        " <li class='nav-item'>" +
        " <a class='nav-link' href='gioithieu.html'>" + "Giới thiệu" + "</a>" +
        "</li>" +
        " <li class='nav-item'>" +
        " <a class='nav-link' href='sitemap.html'>" + "Site Map" + "</a>" +
        "</li>" +
        " <li class='nav-item dangnhap'>" +
        "<a class='nav-link btn btn-warning'  id='dangky'>" + "Đăng nhập/Đăng ký" + "</a>" +
        " </li>" +
        " <li class='nav-item cart'>" +
        " <a href='giohang.html' class='nav-link'>" + "<i class='fa fa-shopping-cart'>" + "</i>" + "</a>" +
        " </li>" +
        "</ul>" +

        "</div>" +
        "</div>" +

        " </nav>"

    let footer = "<div class='container'>" +
        "<div class='row'>" +
        "<div class='col-sm-3 cot1'>" +
        " <h1>" + "T&Dshop.com" + "</h1>" +
        "<div class='motdong'>" +
        " <i class='fa fa-paper-plane-o'>" + "</i>" +
        " <span class='textmotdong'>" + "Địa chỉ: 59 Thích Bửu Đăng, P4, Quận Gò Vấp, Thành phố Hồ Chí  Minh" + "</span>" +
        " </div>" +
        "<div class='motdong'>" +
        " <i class='fa fa-phone'>" + "</i>" +
        " <span class='textmotdong'>" + "Số điện thoại: 0343299813</span>" +
        "  </div>" +
        "<div class='motdong'>" +
        "<i class='fa fa-envelope-o'>" + "</i>" +
        "<span class='textmotdong'>" + "Email: t&dshop@gmail.com</span>" +
        " </div>" +
        " </div>" +

        " <div class='col-sm-3 cot3'>" +
        " <h2 class='tdfooter'>" + "HỖ TRỢ THANH TOÁN" + "</h2>" +
        " <ul>" +
        "  <li>" +
        "    <p>" + "<i class='fa fa-cc-mastercard mr-2'>" + "</i>" + "MasterCard" + "</p>" +
        "  </li>" +
        " <li>" +
        "  <p>" + "<i class='fa fa-cc-visa mr-2'>" + "</i>" + "Visa" + "</p>" +
        "  </li>" +
        "  <li>" +
        "    <p>" + "<i class='fa fa-credit-card mr-2'>" + "</i>" + "Thẻ tín dụng" + "</p>" +
        "  </li>" +
        "<li>" +
        "  <p>" + "<i class='fa fa-money mr-2'>" + "</i>" + "Tiền mặt" + "</p>" +
        " </li>" +
        " </ul>" +
        " </div>" +

        "<div class='col-sm-3 cot4'>" +
        "   <h2 class='tdfooter'>" + "Opening Hours" + "</h2>" +
        " <div class='opening1'>" +
        "    <div class='phai float-xs-right'>" + "7:00am - 22:00pm" + "</div>" +
        "     <div class='trai'>" + "Everyday" + "</div>" +
        " </div>" +

        "</div>" +
        " </div>" +
        " </div>"


    let modal = "<div class='modal-dialog'>" +
        "<div class='modal-content'>" +
        " <div class='modal-header fontdancing tieude1' >" +
        " <h2>Đăng nhập vào T&D Shop</h2>" +
        " </div>" +
        "<div class='modal-body'>" +
        "<form class='login100-form validate-form'>" +
        "<div class='form-group col-sm-12 ' style='display: flex'>" +
        " <div class='col-sm-4'>" +
        "  <label for=''>Tên đăng nhập:</label>" +
        " </div>" +
        " <div class='col-sm-8'>" +
        "<input type='text' class='form-control' id='checkusername' >" +
        " <div>" +
        "<span id='errorcheckusername' class='text-danger'></span>" +
        " </div>" +
        "</div>" +

        "</div>" +

        " <div class='formgroup col-sm-12 ' style='display: flex' >" +
        " <div class='col-sm-4'> " +
        "  <label for='' >Mật khẩu:</label >" +
        " </div>" +
        "<div class='col-sm-8'>" +
        " <input type='text' class='form-control' id='checkpassword'>" +
        " <div>" +
        "  <span id='errorcheckpassword' class='text-danger'></span>" +
        "  </div>" +
        " </div>" +

        " </div>" +

        "<div class='p-1'>" +
        "  <button type='button' class='formgroup col-sm-12' style='background-color: rgba(255,165,1,255); border-radius: 5px; padding: 7px;' id='dangnhap'>ĐĂNG NHẬP</button>" +

        "  </div>" +
        " <div class='formgroup col-sm-12 '>" +
        "  <p>Chưa có tài khoản? <a href='signup.html'>Đăng ký ngay</a></p>" +
        "  </div>" +

        "   </form>" +
        " </div>" +
        "</div>" +
        "</div>"

    $("#header").append(header)
    $("#menu").append(menu)
    $("#footer").append(footer)
    $("#myModal").append(modal)

}





// Hàm lưu mã Sp và localStorage
function setMasp(masp) {
    localStorage.setItem("masp", masp)
}
function setMaspm(masp) {
    localStorage.setItem("maspm", masp)
}


// Hàm hiển thị danh sách sản phẩm
function hienthiDSSP(sp) {
    let temp = "<div class='col-sm-4 ' >" +
        "  <div class='motspchuan'> " +
        " <a href='chitietsanpham.html' class='duoi' onclick='setMasp(" + sp.masp + ")''> " +
        "  <img  src='" + sp.hinhanh + "' alt='' >" +
        "   <p class='price_prod'>" +
        "  <span class='price'>" + sp.dongia + "</span>" +
        " </p>" +
        " <span> " + sp.tensp + "</span>" +
        " </a>" +
        " </div>" +
        "</div>"

    $("#danhsachsanpham").append(temp)

}

// Hàm hiển thị chi tiết sản phẩm
function hienthichitietsanpham() {
    let masp = localStorage.getItem("masp")
    let sp = ds.find(sp => sp.masp == masp)
    let temp = " <div class='col-sm-8 produc_img'> " +
        "<div class='row'>" +
        "<div class='col-sm-6'> " +
        "<img src='" + sp.hinhanh + "' alt=''> " +
        " </div> " +
        " <div class='col-sm-6'> " +
        " <div class='detail_tren' style='margin-top: 50px;'>" +
        " <b class='ten'>" + "Chi tiết sản phẩm:" + "</b>" +
        " <br> " + " <p class='ten'> " + sp.mota + "</p>"
        + " </div> " +
        " </div> " +
        " </div> " +
        " </div> " +
        "<div class='col-sm-4 product_detail' style='margin-top: 30px;'> " +
        " <div class='tensp'> " +
        "  <div class='detail_duoi'> " +
        "<span>" + sp.hang + "</span> " +
        " </div> " +
        " <div class='detail_tren'> " +
        "<b class='ten'>" + sp.tensp + " </b> " +
        "<br>" + " <p class='ten'>" + sp.dongia + "</p> " +
        "</div> " +
        " </div> " +

        " <a href='giohang.html' class='checkout btn btn-warning mt-2' id='muahang'>" + "Thêm vào giỏ hàng" + "</a> " +
        " </div>  "



    $("#chitietsanpham").append(temp)
    chuyendulieu()
}



// Hàm chuyển dữ liệu
function chuyendulieu() {
    let masp = localStorage.getItem("masp")
    let sp = ds.find(sp => sp.masp == masp)
    let spmua = { hinhanh: sp.hinhanh, tensp: sp.tensp, dongia: sp.dongia, hang: sp.hang, dongia: sp.dongia }
    localStorage.setItem("sanphamduocmua", JSON.stringify(spmua))
}

// Hàm hiển thị giỏ hàng
function hienthisanphamduocmua() {

    let spduocmua = JSON.parse(localStorage.getItem("sanphamduocmua"))

    let temp = "<tr class='cart-item' id='remove'>" +
        "<td class='product-thumbnail'>" + "<img src='" + spduocmua.hinhanh + "' alt='' width='100' height='100'>" + "</td>" +
        "<td class='product-name'>" + spduocmua.tensp + "</td>" +
        "<td class='product-price'>" + spduocmua.dongia + "</td>" +
        "<td class='product-size'>" + spduocmua.hang + "</td>" +
        " <td class='product-remove'>" + "<a href='#' id='click' >" + "<i class='fa fa-times'>" + "</i>" + "</a>" + "</td>" +
        "</tr>"


    let thongtinnguoimua = "<h2 style='font-size:25px; padding-bottom: 20px;'>Thông tin khách hàng</h2>" +
        "<form>" +
        "<div class='form-group'>" +
        "<label for=''>Họ tên</label>" +
        " <input type='text' class='form-control' value='" + dstk[makhachang].name + "' >	" +
        " </div>" +
        " </form>" +
        " <form>" +
        "  <div class='form-group' >" +
        "  <label for=''>Số Email</label>" +
        "   <input type='email' class='form-control' value='" + dstk[makhachang].email + "' >" +
        "   </div>" +
        "  </form>" +
        " <form>" +
        "     <div class='form-group'>" +
        "   <label for=''>Số điện thoại</label>" +
        " <input type='tel' class='form-control' value='" + dstk[makhachang].telephone + "'>" +

        "  </div>" +
        "  </form>" +
        " <form>" +
        " <div class='form-group'>" +
        " <label for=''>Địa chỉ</label>" +
        " <input type='text' class='form-control' value='" + dstk[makhachang].address + "'>" +

        " </div>" +
        " </form>"


    $("#danhsachmua").append(temp)
    $("#hienthithongtinnguoimua").append(thongtinnguoimua)

    $("#tamtinh").html(spduocmua.dongia)
    $("#phivanchuyen").html("Miễn Phí")
    $("#tongcong").html(spduocmua.dongia)
}




// Hàm hiển thị các sản phẩm ở home 
function hienthicacsanpham(sp) {

    let temp = "<div class='col-xs-12 col-sm-6 col-md-4 motsp " + sp.class + "'>" +
        "<div class='row'> " +
        "<div class='col-xs-6 col-sm-5'>" +
        "<div class='anhsp'>" +
        "<div class='tagnew'>" + "NEW" + "</div>" +
        "<img src='" + sp.hinhanh + "' alt='' class='img-fluid'>" +
        "</div>" +

        "</div>" +
        "<div class='col-xs-6 col-sm-7'>" +
        "<div class='tensp'>" +
        "<div class='tren'>" +
        "<p class='ten'>" + "<a href='chitietsanpham.html' onclick='setMasp(" + sp.masp + ")''>" + "Sản phẩm " + sp.masp + "" + "</a>" + "</p>" +
        "</div>" +
        "<div class='duoi'>" + sp.hang + "</div>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "</div>"

    $("#danhsach").append(temp)

}
// Hàm hiển thị sản phẩm từng loại
function HienThiDanhSachTungLoaiSanPham(sp) {

    let temp1 = "<ul class='pagination justify-content-center bg-light'>" +
        "<li class='page-item disabled'>" +
        " <a class='page-link' href='#' tabindex='-1'>Về trước</a>" +
        "</li>" +
        "<li class='page-item'>" + "<a class='page-link' href='#'>1</a></li>" +
        " <li class='page-item'>" + "<a class='page-link' href='#'>2</a></li>" +
        "<li class='page-item'><a class='page-link' href='#'>3</a></li>" +
        "<li class='page-item'>" +
        "<a class='page-link' href='#'>" + "Tiếp theo" + "</a>" +
        " </li>" +
        "</ul>"

    for (let i = 0; i < 9; i++) {
        if (i < 3) {
            let temp = "<div class='col-sm-4'>" +
                "<div class='motspchuan'>" +
                "<a href='chitietsanpham.html' class='duoi' onclick='setMasp(" + sp[i].masp + ")'>" +
                "	<img  src='" + sp[i].hinhanh + "' alt='' >" +
                "	<p class='price_prod'>" +
                "	<span class='price'>" + sp[i].dongia + "<i>" + "VNĐ" + "</i>" + "</span>" +
                "	</p>" +
                "	<span>" + sp[i].tensp + "</span>" +
                "	</a>" +
                "	</div>" +
                "	</div>"

            $("#danhsachsony").append(temp)
            if (i == 2) $("#xemthemsony").append(temp1)
        }
        if (i >= 3 && i < 6) {
            let temp = "<div class='col-sm-4'>" +
                "<div class='motspchuan'>" +
                "<a href='chitietsanpham.html' class='duoi' onclick='setMasp(" + sp[i].masp + ")'>" +
                "	<img  src='" + sp[i].hinhanh + "' alt='' >" +
                "	<p class='price_prod'>" +
                "	<span class='price'>" + sp[i].dongia + "<i>" + "VNĐ" + "</i>" + "</span>" +
                "	</p>" +
                "	<span>" + sp[i].tensp + "</span>" +
                "	</a>" +
                "	</div>" +
                "	</div>"

            $("#danhsachsamsung").append(temp)
            if (i == 5) $("#xemthemsamsung").append(temp1)
        }
        if (i >= 6 && i < 9) {
            let temp = "<div class='col-sm-4'>" +
                "<div class='motspchuan'>" +
                "<a href='chitietsanpham.html' class='duoi' onclick='setMasp(" + sp[i].masp + ")'>" +
                "	<img  src='" + sp[i].hinhanh + "' alt='' >" +
                "	<p class='price_prod'>" +
                "	<span class='price'>" + sp[i].dongia + "<i>" + "VNĐ" + "</i>" + "</span>" +
                "	</p>" +
                "	<span>" + sp[i].tensp + "</span>" +
                "	</a>" +
                "	</div>" +
                "	</div>"

            $("#danhsachlg").append(temp)
            if (i == 8) $("#xemthemlg").append(temp1)
        }

    }
}
// Hàm hiển thị các sản phẩm sắp cập nhật ở home
function HienThiDanhSachSanPhamSapRaMat(spm) {
    let temp = "<div class='col-sm-4 mottintuc'>" +
        "<img  src='" + spm.hinhanh + "' class='sp_ramat'>" +
        " <div class='ngaythang'>" + " " + spm.ngaythang + " trên" + "<span class='vang'>" + "T&Dshop.com" + "</span>" + "</div>" +
        "<p class='fontroboto'>" + spm.loai + "</p>" +
        "<div class='abc'>" +
        " <a href='chitietsanphamsapcapnhat.html' class='readmore' onclick='setMaspm(" + spm.masp + ")'>" + "Xem ngay" + "</a>" +
        "</div>" +
        "</div>"

    $("#danhsachSPM").append(temp)
}
// Hàm hiển thị các sản phẩm sắp ra mắt
function HienThiSanPhamSapRaMat() {
    let masp = localStorage.getItem("maspm")
    let sp = dsspm.find(sp => sp.masp == masp)
    let temp = "<div class='tinchitiet'>" +
        "<div class='container'>" +
        "<img src='" + sp.hinhanh + "' style='width: 600px; height: 300px;' alt=''>" +
        "<div class='ngaythang'>" + sp.ngaythang + " trên" + "<span class='vang'>" + "T&Dshop@gmail.com" + "</span>" + "</div>" +
        "<h2 class='fontroboto ten' style='font-weight: 900'>" + sp.tensp + "</h2>" +
        "<p>" + sp.mota + "</p>" +

        " <h3>" + sp.dongia + "</h3> " +
        " </div>  " +
        "</div>"
    $("#sanphammoi").append(temp)
}
//Hiển thị modal đăng nhập
function HienThiModalDangNhap() {
    $("#myModal").modal()
}

// Kiểm tra đăng nhập
function kiemtrataikhoandangnhap() {
    let checkusername = $("#checkusername").val()

    if (checkusername.trim() == '') {
        $("#errorcheckusername").html("Tên đăng nhập không được để trống")
        return false
    }

    for (let i = 0; i < demso + 1; i++) {
        if (checkusername != dstk[i].username) {
            $("#errorcheckusername").html("Tên đăng nhập không tồn tại")
            return false
        }

    }

    $("#errorcheckusername").html("")
    return true

}



function kiemtramatkhaudangnhap() {

    let checkusername = $("#checkusername").val()
    let checkpassword = $("#checkpassword").val()

    if (checkpassword.trim() == "") {
        $("#errorcheckpassword").html("Mật khẩu không được để trống")
        return false
    }
    for (let i = 0; i < demso + 1; i++) {
        if (checkusername == dstk[i].username) {
            if (checkpassword == dstk[i].password) {
                $("#errorcheckpassword").html("")
                makhachhang = dstk[i].id
                return true
            }


        }

        $("#errorcheckpassword").html("Mật khẩu không đúng")

        return false

    }
}


// Hàm tìm kiếm
function timkiem(){
    let tkiem=$("#tkiem").val()

    if(tkiem=="TV samsung" || tkiem=="TV Samsung" || tkiem=="TV Samsung" ||tkiem=="TV SamSung" ||tkiem=="Samsung" || tkiem=="samsung" || tkiem=="TiVi Samsung" || tkiem=="tivi Samsung"|| tkiem=="tivi samsung" || tkiem=="TiVi SAMSUNG" || tkiem=="SAMSUNG"){
        window.location="SamSung.html";

    }
   else if(tkiem=="TV LG" || tkiem=="TV lg" || tkiem=="TV Lg" ||tkiem=="TV lG" ||tkiem=="LG" || tkiem=="lg" || tkiem=="TiVi LG" || tkiem=="tivi lg"|| tkiem=="TV LG"|| tkiem=="tiVi Lg"){
        window.location="LG.html";

    }
   else if(tkiem=="TV Sony" || tkiem=="TV SoNy" || tkiem=="TV sony" ||tkiem=="TV SONY" ||tkiem=="SONY" || tkiem=="sony" || tkiem=="TiVi Sony" || tkiem=="TV sony"|| tkiem=="tivi Sony"|| tkiem=="tivi sony"){
        window.location="Sony.html";

    }
    else{
        alert("Không tìm thấy!");
    }
}



$(document).ready(function () {
    hienthigiaodien()
    hienthichitietsanpham()
    HienThiSanPhamSapRaMat()
    HienThiDanhSachTungLoaiSanPham(ds)
    $("#muahang").click(hienthisanphamduocmua())

    $("#dangky").click(function () {
        $("#myModal").modal()
    })
    $("#checkusername").blur(kiemtrataikhoandangnhap)
    $("#checkpassword").blur(kiemtramatkhaudangnhap)
    $("#dangnhap").click(function () {
        if (!kiemtrataikhoandangnhap() || !kiemtramatkhaudangnhap()) {

            return false
        }

        $("#myModal").modal("hide")
        alert("Đăng nhập thành công")
        window.location = "home.html"
        return true
    })


    $("#dangnhaptaikhoan").click(function () {

        $("#myModal").modal("show")


    })

    $("#tkiem").click(function(){
        $(document).keypress(function(event){
            var keycode = (event.keyCode ? event.keyCode : event.which);
            if (keycode == '13') {
                timkiem();
            }
            });
    })

    $(document).ready(function () {
        function kiemtrahoten() {
          let name = $("#name").val()
          let regexname = /^[AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+ [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+(?: [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]*)*$/;
  
          if (name.trim() == '') {
            $("#errorname").html("Bắt buộc nhập")
            return false
          }
          if (!regexname.test(name)) {
            $("#errorname").html("Chữ cái đầu mỗi từ phải viết hoa")
            return false
          }
  
          $("#errorname").html("")
          return true
        }
        $("#name").blur(kiemtrahoten)
  
  
        function kiemtraemail() {
          let email = $("#email").val()
          let regexemail = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/
          if (email.trim() == '') {
            $("#erroremail").html("Bắt buộc nhập")
            return false
          }
          if (!regexemail.test(email)) {
            $("#erroremail").html("Email không đúng định dạng")
            return false
          }
  
          $("#erroremail").html("")
          return true
        }
        $("#email").blur(kiemtraemail)
  
        function kiemtrangay() {
          let ngayhethong = new Date()
          let ngaysinh = new Date($("#birthday").val())
  
          if ($("#birthday").val() == '') {
            $("#errorbirthday").html("Ngày sinh không được để trống")
            return false
          }
  
          if (ngaysinh.getFullYear() > ngayhethong.getFullYear() - 18) {
            $("#errorbirthday").html("Phải đủ 18 tuổi trở lên")
            return false
          }
  
          $("#errorbirthday").html("")
          return true
  
  
        }
  
        $("#birthday").blur(kiemtrangay)
  
        function Kiemtratendangnhap() {
          let username = $("#username").val()
          let danhsach=JSON.parse(localStorage.getItem("dstaikhoan"))
          let regexusername = /^([a-zA-Z0-9]){6,18}$/
         
          if (username.trim() == '') {
            $("#errorusername").html("Bắt buộc nhập")
            return false
          }
          if (!regexusername.test(username)) {
            $("#errorusername").html("Tên tài khoản ít nhất 6 kí tự và tối đa 18 kí tự bao gồm chữ và số")
            return false
          }
          
          for(let i=0; i<danhsach.length ;i++){
            console.log(danhsach)
            if(username==danhsach[i].name){
              $("#errorusername").html("Tên tài khoản đã tồn tại")
              return false
            }
            
            
           
          }
  
          $("#errorusername").html("")
          return true
        }
  
        $("#username").blur(Kiemtratendangnhap)
  
  
        function kiemtramatkhau() {
          let password = $("#password").val()
          let regexpassword = /^([a-zA-Z0-9_\.\-]){6,18}$/
          if (password.trim() == '') {
            $("#errorpassword").html("Bắt buộc nhập")
            return false
          }
          if (!regexpassword.test(password)) {
            $("#errorpassword").html("Mật khẩu ít nhất 6 kí tự và tối đa 18 kí tự bao gồm chữ số và kí tự đặt biệt")
            return false
          }
  
          $("#errorpassword").html("")
          return true
        }
  
        $("#password").blur(kiemtramatkhau)
  
        function kiemtranhaplaimatkhau() {
          let password = $("#password").val()
          let con_password = $("#con_password").val()
          if (password != con_password) {
            $("#errorcon_password").html("Mật khẩu nhập lại không chính xác")
            return false
          }
          if(con_password.trim()==""){
            $("#errorcon_password").html("Bắt buộc nhập")
            return false
          }
          $("#errorcon_password").html("")
          return true
        }
        $("#con_password").blur(kiemtranhaplaimatkhau)
  
        function Kiemtradiachi() {
          let diachi = $("#address").val()
          let regexdiachi = /^[0-9-/AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][0-9-/aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+ [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+(?: [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]*)*$/;
          if (diachi.trim() == "") {
            $("#erroraddress").html(" Bắt buộc nhập")
            return false
          }
          if (!regexdiachi.test(diachi)) {
            $("#erroraddress").html("Địa chỉ không hợp lệ")
            return false
          }
  
          $("#erroraddress").html("")
          return true
  
        }
        $("#address").blur(Kiemtradiachi)
  
        function kiemtrasodienthoai() {
          let telephone = $("#tel").val()
          let regextelephone = /^[0][0-9]{9}$/
  
          if (telephone.trim() == "") {
            $("#errortel").html(" Bắt buộc nhập")
            return false
          }
          if (!regextelephone.test(telephone)) {
            $("#errortel").html("Số điện thoại gồm 10 số và bắt đầu bằng 0")
            return false
          }
  
          $("#errortel").html("")
          return true
  
        }
        $("#tel").blur(kiemtrasodienthoai)
  
  
  // Hàm đăng ký
  
  function dangky(dsachtaikhoan){

   
    
      let demso=localStorage.getItem("demso")
      let name = $("#name").val()
      let email = $("#email").val()
      let ngaysinh = new Date($("#birthday").val())
      let username = $("#username").val()
      let password = $("#password").val()
      let diachi = $("#address").val()
      let tel = $("#tel").val()

      let taikhoan = { id: dem, name: name, email: email, birthday: ngaysinh, username: username, password: password, address: diachi, telephone: tel }

     dsstk[demso]=taikhoan;
     dsachtaikhoan=dsstk;
     
      localStorage.setItem("dstaikhoan", JSON.stringify(dsstk))     
      localStorage.setItem("demso", dsstk.length)   
      dem++; 
      
     
      return dsachtaikhoan
      
    

         
          
        
        

        
  
  }
  
        $("#dangkytaikhoan").click(function () {
          if (!kiemtrahoten() || !kiemtraemail() || !kiemtrangay() || !Kiemtratendangnhap() || !kiemtramatkhau() || !kiemtranhaplaimatkhau() || !Kiemtradiachi() || !kiemtrasodienthoai()) {
            $("#errordangky").html("Nhập đầy đủ và chính xác thông tin")
            return false
          }
      
      
      
          dangky();
          alert("Đăng ký thành công ")
        //  alert("Trở về trang chủ và đăng nhập!")
         // window.location = "home.html"
      
          $("#errordangky").html("")
         
      
          return true
      
        })
  
  
        
  
      })
   
    

})